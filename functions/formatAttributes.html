<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>formatAttributes | SSML Builder Documentation - v1.0.1</title><meta name="description" content="Documentation for SSML Builder Documentation"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">SSML Builder Documentation - v1.0.1</a><div id="tsd-toolbar-links"><a href="https://github.com/andresayac/ssml-builder">GitHub</a><a href="https://docs.microsoft.com/azure/cognitive-services/speech-service/speech-synthesis-markup">Azure SSML Docs</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">formatAttributes</a></li></ul><h1>Function formatAttributes</h1></div><section class="tsd-panel"><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="formatattributes"><span class="tsd-kind-call-signature">formatAttributes</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">attrs</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><a href="#formatattributes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Formats a record of attributes into a valid XML attribute string.</p>
<p>This function takes an object containing attribute key-value pairs and
converts it into a properly formatted XML attribute string. It automatically:</p>
<ul>
<li>Filters out undefined values (null values should be avoided in the input)</li>
<li>Wraps attribute values in double quotes</li>
<li>Joins multiple attributes with spaces</li>
</ul>
<p><strong>⚠️ Important Security Note:</strong>
This function does NOT escape the attribute values. If attribute values
contain special characters, they should be escaped before being passed to this
function or the escaping should be handled at the element level. Using unescaped
user input as attribute values can lead to XML injection vulnerabilities.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">attrs</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>An object containing attribute names as keys and their values as strings</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><p>A formatted string of XML attributes ready to be inserted into an XML tag</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">// Basic attribute formatting</span><br/><span class="hl-0">formatAttributes</span><span class="hl-1">({ version: </span><span class="hl-2">&#39;1.0&#39;</span><span class="hl-1">, lang: </span><span class="hl-2">&#39;en-US&#39;</span><span class="hl-1"> });</span><br/><span class="hl-5">// Returns: &#39;version=&quot;1.0&quot; lang=&quot;en-US&quot;&#39;</span><br/><br/><span class="hl-5">// Filtering undefined values</span><br/><span class="hl-0">formatAttributes</span><span class="hl-1">({</span><br/><span class="hl-1">  name: </span><span class="hl-2">&#39;en-US-AvaNeural&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  effect: </span><span class="hl-4">undefined</span><span class="hl-1">,</span><br/><span class="hl-1">  pitch: </span><span class="hl-2">&#39;high&#39;</span><br/><span class="hl-1">});</span><br/><span class="hl-5">// Returns: &#39;name=&quot;en-US-AvaNeural&quot; pitch=&quot;high&quot;&#39;</span><br/><br/><span class="hl-5">// Empty object returns empty string</span><br/><span class="hl-0">formatAttributes</span><span class="hl-1">({});</span><br/><span class="hl-5">// Returns: &#39;&#39;</span><br/><br/><span class="hl-5">// All undefined values</span><br/><span class="hl-0">formatAttributes</span><span class="hl-1">({ a: </span><span class="hl-4">undefined</span><span class="hl-1">, b: </span><span class="hl-4">undefined</span><span class="hl-1"> });</span><br/><span class="hl-5">// Returns: &#39;&#39;</span><br/><br/><span class="hl-5">// Use in XML element construction</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">attrs</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">formatAttributes</span><span class="hl-1">({</span><br/><span class="hl-1">  version: </span><span class="hl-2">&#39;1.0&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  xmlns: </span><span class="hl-2">&#39;http://www.w3.org/2001/10/synthesis&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&#39;xml:lang&#39;</span><span class="hl-1">: </span><span class="hl-2">&#39;en-US&#39;</span><br/><span class="hl-1">});</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">xml</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">`&lt;speak ${</span><span class="hl-1">attrs</span><span class="hl-2">}&gt;content&lt;/speak&gt;`</span><span class="hl-1">;</span><br/><span class="hl-5">// Result: &#39;&lt;speak version=&quot;1.0&quot; xmlns=&quot;http://www.w3.org/2001/10/synthesis&quot; xml:lang=&quot;en-US&quot;&gt;content&lt;/speak&gt;&#39;</span><br/><br/><span class="hl-5">// With SSML voice attributes</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">voiceAttrs</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">formatAttributes</span><span class="hl-1">({</span><br/><span class="hl-1">  name: </span><span class="hl-2">&#39;en-US-AvaNeural&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  effect: </span><span class="hl-2">&#39;eq_telecomhp8k&#39;</span><br/><span class="hl-1">});</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">voiceElement</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">`&lt;voice ${</span><span class="hl-1">voiceAttrs</span><span class="hl-2">}&gt;Hello&lt;/voice&gt;`</span><span class="hl-1">;</span><br/><span class="hl-5">// Result: &#39;&lt;voice name=&quot;en-US-AvaNeural&quot; effect=&quot;eq_telecomhp8k&quot;&gt;Hello&lt;/voice&gt;&#39;</span><br/><br/><span class="hl-5">// Security consideration - escape values first if needed</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">userProvidedName</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">escapeXml</span><span class="hl-1">(</span><span class="hl-0">getUserInput</span><span class="hl-1">());</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">safeAttrs</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">formatAttributes</span><span class="hl-1">({</span><br/><span class="hl-1">  name: userProvidedName  </span><span class="hl-5">// Already escaped</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-remarks"><h4 class="tsd-anchor-link" id="remarks">Remarks<a href="#remarks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>For security reasons, always validate and escape attribute values before
using this function, especially when dealing with user-provided input.</p>
</div><div class="tsd-tag-see"><h4 class="tsd-anchor-link" id="see">See<a href="#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><a href="https://www.w3.org/TR/xml/#NT-Attribute">https://www.w3.org/TR/xml/#NT-Attribute</a> XML Attribute Specification</li>
<li><a href="escapeXml.html" class="tsd-kind-function">escapeXml</a> For escaping attribute values containing special characters</li>
</ul>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/andresayac/ssml-builder/blob/539bb52ed096af9b6f45dc3bab243f7b890ea8ab/src/utils/xml.ts#L142">utils/xml.ts:142</a></li></ul></aside></div></li></ul></section></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="./api-reference.md">API Reference</a><a href="./examples.md">Examples</a><a href="https://github.com/andresayac/ssml-builder" class="tsd-nav-link">GitHub</a><a href="https://docs.microsoft.com/azure/cognitive-services/speech-service/speech-synthesis-markup" class="tsd-nav-link">Azure SSML Docs</a></nav><nav class="tsd-navigation"><a href="../modules.html">SSML Builder Documentation - v1.0.1</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
